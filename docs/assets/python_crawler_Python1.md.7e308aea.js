import{_ as s,o as a,c as n,R as l}from"./chunks/framework.3bbe0c8b.js";const d=JSON.parse('{"title":"Python爬虫 - 基础","description":"","frontmatter":{"layout":"doc","outline":"deep"},"headers":[],"relativePath":"python/crawler/Python1.md","filePath":"python/crawler/Python1.md"}'),o={name:"python/crawler/Python1.md"},p=l(`<h1 id="python爬虫-基础" tabindex="-1">Python爬虫 - 基础 <a class="header-anchor" href="#python爬虫-基础" aria-label="Permalink to &quot;Python爬虫 - 基础&quot;">​</a></h1><h2 id="一些关键信息" tabindex="-1">一些关键信息 <a class="header-anchor" href="#一些关键信息" aria-label="Permalink to &quot;一些关键信息&quot;">​</a></h2><h3 id="请求头的关键信息" tabindex="-1">请求头的关键信息 <a class="header-anchor" href="#请求头的关键信息" aria-label="Permalink to &quot;请求头的关键信息&quot;">​</a></h3><ol><li><p><code>User-Agent</code>：请求载体的身份识别。（用什么发的请求）</p></li><li><p><code>Referer</code>：防盗链。（请求的页面来源）</p></li><li><p><code>Cookie</code>：本地字符串数据信息。（用户登录信息，反爬的token）</p></li></ol><h3 id="请求方式" tabindex="-1">请求方式 <a class="header-anchor" href="#请求方式" aria-label="Permalink to &quot;请求方式&quot;">​</a></h3><p>1.<code>get</code></p><p>2.<code>post</code></p><h3 id="响应头的关键信息" tabindex="-1">响应头的关键信息 <a class="header-anchor" href="#响应头的关键信息" aria-label="Permalink to &quot;响应头的关键信息&quot;">​</a></h3><p>1.<code>Cookie</code>：本地字符串数据信息。（用户登录信息，反爬的token）</p><p>2.一些奇怪的字符串（一般是token字样，防止攻击和反爬）</p><h2 id="得到页面源代码可用库" tabindex="-1">得到页面源代码可用库: <a class="header-anchor" href="#得到页面源代码可用库" aria-label="Permalink to &quot;得到页面源代码可用库:&quot;">​</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#from urllib.request import urlopen</span></span></code></pre></div><h3 id="urlopen用法" tabindex="-1"><code>urlopen</code>用法 <a class="header-anchor" href="#urlopen用法" aria-label="Permalink to &quot;\`urlopen\`用法&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://www.baidu.com</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">resp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">urlopen</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">resp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#676E95;font-style:italic;">#用utf-8解码得到页面源代码</span></span></code></pre></div><h3 id="request库用法" tabindex="-1"><code>request</code>库用法 <a class="header-anchor" href="#request库用法" aria-label="Permalink to &quot;\`request\`库用法&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://www.baidu.com/s</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#请求头关键信息,可通过f12查看</span></span>
<span class="line"><span style="color:#A6ACCD;">headers </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">User-Agent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Cookie</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Referer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">params </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">python</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#连接在url后方的:如www.baidu.com/s?</span></span>
<span class="line"><span style="color:#A6ACCD;">resp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> requests</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">params</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">headers</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">headers</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">resp</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">encoding</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#676E95;font-style:italic;">#将resp的编码改为utf-8</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">resp</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#得到页面源代码</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">resp</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#得到页面的url连接，当前为https://www.baidu.com/s?wd=python</span></span></code></pre></div>`,16),e=[p];function t(r,c,y,D,F,i){return a(),n("div",null,e)}const h=s(o,[["render",t]]);export{d as __pageData,h as default};
