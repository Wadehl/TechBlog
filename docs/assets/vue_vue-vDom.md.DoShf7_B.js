import{_ as i,c as a,o as n,aB as l}from"./chunks/framework.DeK-WOGe.js";const o=JSON.parse('{"title":"Vue 虚拟DOM","description":"","frontmatter":{"layout":"doc","outline":"deep"},"headers":[],"relativePath":"vue/vue-vDom.md","filePath":"vue/vue-vDom.md"}'),t={name:"vue/vue-vDom.md"};function e(p,s,h,k,d,r){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="vue-虚拟dom" tabindex="-1">Vue 虚拟DOM <a class="header-anchor" href="#vue-虚拟dom" aria-label="Permalink to &quot;Vue 虚拟DOM&quot;">​</a></h1><h2 id="参考链接" tabindex="-1">参考链接 <a class="header-anchor" href="#参考链接" aria-label="Permalink to &quot;参考链接&quot;">​</a></h2><p><a href="https://juejin.cn/post/7130538545063657486" target="_blank" rel="noreferrer">https://juejin.cn/post/7130538545063657486</a></p><h2 id="vnode结构" tabindex="-1">VNode结构 <a class="header-anchor" href="#vnode结构" aria-label="Permalink to &quot;VNode结构&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    children</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vnode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><details class="details custom-block"><summary>举个简单的例子：</summary><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Venki!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vnode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        props: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        children: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;Venki!&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></details><h2 id="虚拟dom优缺点" tabindex="-1">虚拟DOM优缺点 <a class="header-anchor" href="#虚拟dom优缺点" aria-label="Permalink to &quot;虚拟DOM优缺点&quot;">​</a></h2><h3 id="优点" tabindex="-1">优点 <a class="header-anchor" href="#优点" aria-label="Permalink to &quot;优点&quot;">​</a></h3><ul><li>降低性能消耗</li><li><code>diff</code>算法减少重绘与回流</li><li>跨平台</li></ul><h3 id="缺点" tabindex="-1">缺点 <a class="header-anchor" href="#缺点" aria-label="Permalink to &quot;缺点&quot;">​</a></h3><ul><li>首次加载相比直接的<code>innerHTML</code>插入，多了生成虚拟DOM的步骤</li><li>无法实现极致的性能优化，也是因为需要生成虚拟DOM</li></ul><div class="tip custom-block"><p class="custom-block-title">虚拟DOM一定比操作原生DOM要快吗</p><ul><li><p>这是一个性能 Vs. 可维护性的问题。框架的意义在于为你掩饰底层的DOM操作，让你可以用更加声明式的方式描述你的目的，从而使得代码能够更简单的维护。</p></li><li><p>在这一情况下，<strong>没有任何框架可以比手动优化DOM操作更快</strong>，==因为框架的DOM操作需要应对任何上层API可能产生的操作，它的实现必须有普适性==</p></li><li><p>在构建实际应用的时候，不可能为每一个地方去做手动优化，<strong>框架的意义在于，它能够在你不需要进行额外优化的情况下，提供一个较好的性能</strong></p></li></ul><p><strong>总结：</strong></p><p>​ 虚拟DOM的意义并不是提升性能，而是提升开发的效率，使用框架使得我们不需要考虑对DOM的操作，只需要关心数据的改变，使用<code>JQuery</code>的时候，数据改变后我们还需要进行<code>$(#id).append(node)</code>的操作。</p><p>​ 并且，事实上，“合理地”直接操作DOM性能永远是最高的，“合理”指的是尽量减少操作的次数。所以，直接操作DOM是上限最高，但是下限较低的操作，而虚拟DOM提供了一个较高的下限，并且降低了使用者的心智负担。</p></div><h2 id="diff算法" tabindex="-1">Diff算法 <a class="header-anchor" href="#diff算法" aria-label="Permalink to &quot;Diff算法&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>​ 上面说到，如果能“合理地”直接操作DOM元素，它的性能是最好的。那么其实虚拟DOM的实现，也同样是在进行“合理地”操作DOM元素，只是这个“合理”操作是框架底层实现的，而实现的关键方法就是在于<code>diff</code>算法。</p></div>`,14)])])}const c=i(t,[["render",e]]);export{o as __pageData,c as default};
