import{_ as a,o as l,c as e,R as i}from"./chunks/framework.3bbe0c8b.js";const _=JSON.parse('{"title":"CDN","description":"","frontmatter":{},"headers":[],"relativePath":"webs/CDN.md","filePath":"webs/CDN.md"}'),t={name:"webs/CDN.md"},o=i('<h1 id="cdn" tabindex="-1">CDN <a class="header-anchor" href="#cdn" aria-label="Permalink to &quot;CDN&quot;">​</a></h1><h2 id="为什么需要cdn" tabindex="-1">为什么需要CDN <a class="header-anchor" href="#为什么需要cdn" aria-label="Permalink to &quot;为什么需要CDN&quot;">​</a></h2><ol><li><p>物理因素的限制</p><p>美国到中国的网络延迟大约为200ms，而中国到中国的网络延迟大约为20ms，这是由于光速的限制，即使是光纤也无法解决这个问题。</p></li><li><p>宽带成本的限制</p><p>假如流量1元1G，发一个10G电影需要十块钱，并且我给10个人发同样的电影需要100元。</p></li><li><p>服务器成本的限制</p><p>一台服务器假设能抗100G流量，而双十一的时候，我需要抗1000G流量，这时候我需要10台服务器，而且这10台服务器不是一年到头都在用，只有双十一的时候才会用到，这样就造成了资源的浪费。</p></li></ol><h2 id="cdn的益处" tabindex="-1">CDN的益处 <a class="header-anchor" href="#cdn的益处" aria-label="Permalink to &quot;CDN的益处&quot;">​</a></h2><ol><li><p>降低网络延迟</p><p>CDN的作用就是让用户访问最近的服务器，这样就能降低网络延迟。</p></li><li><p>降低部署成本</p><p>只需要部署少量的服务器，就能抗住大量的流量。</p></li></ol><h2 id="cdn的原理" tabindex="-1">CDN的原理 <a class="header-anchor" href="#cdn的原理" aria-label="Permalink to &quot;CDN的原理&quot;">​</a></h2><p>一般来说，一个IP只能够对应一台服务器，如何实现用户访问最近的服务器呢？🕵️ - DNS劫持</p><ul><li>域名解析一般由网站自己处理</li><li>要加速的域名则重定向到CDN厂商的域名解析服务处理</li><li>CDN厂商的域名解析服务会根据用户的IP地址，解析到最近的服务器</li><li>用户直接访问最近的CDN服务器</li></ul><div class="info custom-block"><p class="custom-block-title">一些问题</p><ul><li>地理距离可能更近，但是需要多次路由器节点转发</li><li>如果用户指定某个DNS，如Google的8.8.8.8</li></ul></div><h2 id="cdn策略" tabindex="-1">CDN策略 <a class="header-anchor" href="#cdn策略" aria-label="Permalink to &quot;CDN策略&quot;">​</a></h2><ol><li><p>拉策略 （轻量资源）</p><p>当用户访问一个资源的时候，CDN会先去源站拉取资源，然后再返回给用户。此时，如果CDN没有对应资源，就会返回404；一段时间后，CDN会丢弃资源。</p></li><li><p>推策略 （经常访问的资源）</p><p>服务端主动告知CDN存储某些资源，丢弃某些资源。</p></li></ol>',11),c=[o];function n(r,p,s,d,h,N){return l(),e("div",null,c)}const C=a(t,[["render",n]]);export{_ as __pageData,C as default};
